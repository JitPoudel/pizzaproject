{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jit's_Pc\\\\Desktop\\\\cis434s22g9\\\\my-app\\\\src\\\\Order\\\\Order.js\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { DialogContent, DialogFooter, ConfirmButton } from \"../FoodDialog/FoodDialog\";\nimport { formatPrice } from \"../Data/FoodData\";\nimport { getPrice } from \"../FoodDialog/FoodDialog\";\nimport { ref, push, set } from \"firebase/database\";\nimport { database } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst refTest = ref(database, \"testobj\");\nconst newPostref = push(refTest);\nset(newPostref, {\n  hello: \"world\"\n});\nconst OrderStyled = styled.div`\n  width: 450px;\n  background-color: #e4dcdc;\n  position: fixed;\n  right: 0px;\n  top: 52px;\n  z-index: 10;\n  height: calc(100% - 52px);\n  padding-bottom: 200px;\n  display: flex;\n  flex-direction: column;\n\n  @media (max-width: 400px) {\n    position: relative;\n    width: 100%;\n  }\n`;\n_c = OrderStyled;\nconst DialogShadow = styled.div`\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  background-color: black;\n  opacity: 0.7;\n  z-index: 4;\n`; //Basically taking the dialog content and its properties and extending it\n\n_c2 = DialogShadow;\nconst OrderContent = styled(DialogContent)`\n  padding: 20px;\n  height: 100%;\n`;\n_c3 = OrderContent;\nconst OrderContainer = styled.div`\n  padding: 20px 0px;\n  border-bottom: 1px solid grey;\n  ${_ref => {\n  let {\n    editable\n  } = _ref;\n  return editable ? `\n  &:hover{\n    cursor: pointer;\n    background-color: #e7e7e7;\n  }\n  ` : `\n  pointer-events: none;\n  `;\n}}\n`; //Row of item\n\n_c4 = OrderContainer;\nconst OrderItem = styled.div`\n  padding: 10px 0px;\n  display: grid;\n  grid-template-columns: 20px 150px 20px 60px;\n  justify-content: space-between;\n`;\n_c5 = OrderItem;\nconst DetailItem = styled.div`\n  color: gray;\n  font-size: 10px;\n`;\n_c6 = DetailItem;\nexport function Order(_ref2) {\n  let {\n    orders,\n    setOrders,\n    setToggleOrderModal,\n    setOpenFood,\n    email,\n    loggedIn,\n    setOpenOrderDialog,\n    setOpenLogin,\n    openLogin,\n    setError\n  } = _ref2;\n  const subtotal = orders.reduce((total, order) => {\n    return total + getPrice(order); //This subtotal function will start from 0 and add next total to calculate the total.\n  }, 0);\n  const salestax = subtotal * 0.08; //Restaurant Tax is 0.08% in ohio\n\n  const total = subtotal + salestax;\n\n  function close() {\n    setToggleOrderModal(false);\n  }\n\n  const deleteItem = index => {\n    const newOrders = [...orders];\n    newOrders.splice(index, 1);\n    setOrders(newOrders);\n  };\n\n  let uniqueKey = 0;\n  if (loggedIn) email = loggedIn.email;\n\n  function sendOrder() {\n    var postNewOrderRef = ref(database, \"order\");\n    const newOrderRef = push(postNewOrderRef);\n    const newOrders = orders.map(order => {\n      return Object.keys(order).reduce((acc, orderKey) => {\n        if (!order[orderKey]) {\n          return acc;\n        }\n\n        if (orderKey === \"toppings\") {\n          return { ...acc,\n            [orderKey]: order[orderKey].filter(_ref3 => {\n              let {\n                checked\n              } = _ref3;\n              return checked.checked;\n            }).map(_ref4 => {\n              let {\n                name\n              } = _ref4;\n              return name;\n            })\n          };\n        }\n\n        return { ...acc,\n          [orderKey]: order[orderKey]\n        };\n      }, {});\n    });\n    set(newOrderRef, {\n      order: newOrders,\n      email\n    });\n  }\n\n  const toggleLogin = (setOpenLogin, openLogin) => {\n    setOpenLogin(!openLogin);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(DialogShadow, {\n      onClick: close\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrderStyled, {\n      children: [orders.length === 0 ? /*#__PURE__*/_jsxDEV(OrderContent, {\n        children: \"You have nothing in your cart! Add something and check back!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(OrderContent, {\n        children: [/*#__PURE__*/_jsxDEV(OrderContainer, {\n          children: \"Your Order:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), \" \", orders.map((order, index) => /*#__PURE__*/_jsxDEV(OrderContainer, {\n          editable: true,\n          children: [/*#__PURE__*/_jsxDEV(OrderItem, {\n            onClick: () => {\n              setOpenFood({ ...order,\n                index\n              });\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: order.quantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: order.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                cursor: \"pointer\"\n              },\n              onClick: e => {\n                e.stopPropagation();\n                deleteItem(index);\n              },\n              children: \"\\uD83D\\uDDD1\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: formatPrice(getPrice(order))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DetailItem, {\n            children: order.toppings.filter(t => t.checked).map(topping => topping.name).join(\", \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this), order.choice && /*#__PURE__*/_jsxDEV(DetailItem, {\n            children: order.choice\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 34\n          }, this)]\n        }, uniqueKey++, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(OrderContainer, {\n          children: [/*#__PURE__*/_jsxDEV(OrderItem, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Subtotal:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: formatPrice(subtotal)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OrderItem, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Tax: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: formatPrice(salestax)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(OrderItem, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"Total: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: formatPrice(total)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), orders.length > 0 && /*#__PURE__*/_jsxDEV(DialogFooter, {\n        children: /*#__PURE__*/_jsxDEV(ConfirmButton, {\n          onClick: () => {\n            if (loggedIn) {\n              setOpenOrderDialog(true);\n              sendOrder(orders, loggedIn);\n            } else {\n              close();\n              toggleLogin(setOpenLogin, openLogin);\n              setError(\"You must sign in to place order.\");\n            }\n          },\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_c7 = Order;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"OrderStyled\");\n$RefreshReg$(_c2, \"DialogShadow\");\n$RefreshReg$(_c3, \"OrderContent\");\n$RefreshReg$(_c4, \"OrderContainer\");\n$RefreshReg$(_c5, \"OrderItem\");\n$RefreshReg$(_c6, \"DetailItem\");\n$RefreshReg$(_c7, \"Order\");","map":{"version":3,"sources":["C:/Users/Jit's_Pc/Desktop/cis434s22g9/my-app/src/Order/Order.js"],"names":["React","styled","DialogContent","DialogFooter","ConfirmButton","formatPrice","getPrice","ref","push","set","database","refTest","newPostref","hello","OrderStyled","div","DialogShadow","OrderContent","OrderContainer","editable","OrderItem","DetailItem","Order","orders","setOrders","setToggleOrderModal","setOpenFood","email","loggedIn","setOpenOrderDialog","setOpenLogin","openLogin","setError","subtotal","reduce","total","order","salestax","close","deleteItem","index","newOrders","splice","uniqueKey","sendOrder","postNewOrderRef","newOrderRef","map","Object","keys","acc","orderKey","filter","checked","name","toggleLogin","length","quantity","cursor","e","stopPropagation","toppings","t","topping","join","choice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport {\n  DialogContent,\n  DialogFooter,\n  ConfirmButton,\n} from \"../FoodDialog/FoodDialog\";\nimport { formatPrice } from \"../Data/FoodData\";\nimport { getPrice } from \"../FoodDialog/FoodDialog\";\nimport { ref, push, set } from \"firebase/database\";\nimport { database } from \"../firebase\";\n\nconst refTest = ref(database, \"testobj\");\nconst newPostref = push(refTest);\nset(newPostref, {\n  hello: \"world\",\n});\n\nconst OrderStyled = styled.div`\n  width: 450px;\n  background-color: #e4dcdc;\n  position: fixed;\n  right: 0px;\n  top: 52px;\n  z-index: 10;\n  height: calc(100% - 52px);\n  padding-bottom: 200px;\n  display: flex;\n  flex-direction: column;\n\n  @media (max-width: 400px) {\n    position: relative;\n    width: 100%;\n  }\n`;\n\nconst DialogShadow = styled.div`\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  background-color: black;\n  opacity: 0.7;\n  z-index: 4;\n`;\n\n//Basically taking the dialog content and its properties and extending it\nconst OrderContent = styled(DialogContent)`\n  padding: 20px;\n  height: 100%;\n`;\n\nconst OrderContainer = styled.div`\n  padding: 20px 0px;\n  border-bottom: 1px solid grey;\n  ${({ editable }) =>\n    editable\n      ? `\n  &:hover{\n    cursor: pointer;\n    background-color: #e7e7e7;\n  }\n  `\n      : `\n  pointer-events: none;\n  `}\n`;\n\n//Row of item\nconst OrderItem = styled.div`\n  padding: 10px 0px;\n  display: grid;\n  grid-template-columns: 20px 150px 20px 60px;\n  justify-content: space-between;\n`;\nconst DetailItem = styled.div`\n  color: gray;\n  font-size: 10px;\n`;\n\nexport function Order({\n  orders,\n  setOrders,\n  setToggleOrderModal,\n  setOpenFood,\n  email,\n  loggedIn,\n  setOpenOrderDialog,\n  setOpenLogin,\n  openLogin,\n  setError,\n}) {\n  const subtotal = orders.reduce((total, order) => {\n    return total + getPrice(order); //This subtotal function will start from 0 and add next total to calculate the total.\n  }, 0);\n\n  const salestax = subtotal * 0.08; //Restaurant Tax is 0.08% in ohio\n  const total = subtotal + salestax;\n\n  function close() {\n    setToggleOrderModal(false);\n  }\n  const deleteItem = (index) => {\n    const newOrders = [...orders];\n    newOrders.splice(index, 1);\n    setOrders(newOrders);\n  };\n\n  let uniqueKey = 0;\n  if (loggedIn) email = loggedIn.email;\n  function sendOrder() {\n    var postNewOrderRef = ref(database, \"order\");\n    const newOrderRef = push(postNewOrderRef);\n    const newOrders = orders.map((order) => {\n      return Object.keys(order).reduce((acc, orderKey) => {\n        if (!order[orderKey]) {\n          return acc;\n        }\n        if (orderKey === \"toppings\") {\n          return {\n            ...acc,\n            [orderKey]: order[orderKey]\n              .filter(({ checked }) => checked.checked)\n              .map(({ name }) => name),\n          };\n        }\n        return {\n          ...acc,\n          [orderKey]: order[orderKey],\n        };\n      }, {});\n    });\n    set(newOrderRef, {\n      order: newOrders,\n      email,\n    });\n  }\n\n  const toggleLogin = (setOpenLogin, openLogin) => {\n    setOpenLogin(!openLogin);\n  };\n\n  return (\n    <>\n      <DialogShadow onClick={close} />\n      <OrderStyled>\n        {orders.length === 0 ? (\n          <OrderContent>\n            You have nothing in your cart! Add something and check back!\n          </OrderContent>\n        ) : (\n          <OrderContent>\n            <OrderContainer>Your Order:</OrderContainer>{\" \"}\n            {orders.map((order, index) => (\n              <OrderContainer key={uniqueKey++} editable>\n                <OrderItem\n                  onClick={() => {\n                    setOpenFood({ ...order, index });\n                  }}>\n                  <div>{order.quantity}</div>\n                  <div>{order.name}</div>\n                  <div\n                    style={{ cursor: \"pointer\" }}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      deleteItem(index);\n                    }}>\n                    🗑️\n                  </div>\n                  <div>{formatPrice(getPrice(order))}</div>\n                </OrderItem>\n                <DetailItem>\n                  {order.toppings\n                    .filter((t) => t.checked)\n                    .map((topping) => topping.name)\n                    .join(\", \")}\n                </DetailItem>\n                {order.choice && <DetailItem>{order.choice}</DetailItem>}\n              </OrderContainer>\n            ))}\n            <OrderContainer>\n              <OrderItem>\n                <div>Subtotal:</div>\n                <div>{formatPrice(subtotal)}</div>\n              </OrderItem>\n\n              <OrderItem>\n                <div>Tax: </div>\n                <div>{formatPrice(salestax)}</div>\n              </OrderItem>\n\n              <OrderItem>\n                <div>Total: </div>\n                <div>{formatPrice(total)}</div>\n              </OrderItem>\n            </OrderContainer>\n          </OrderContent>\n        )}\n        {orders.length > 0 && (\n          <DialogFooter>\n            <ConfirmButton\n              onClick={() => {\n                if (loggedIn) {\n                  setOpenOrderDialog(true);\n                  sendOrder(orders, loggedIn);\n                } else {\n                  close();\n                  toggleLogin(setOpenLogin, openLogin);\n                  setError(\"You must sign in to place order.\");\n                }\n              }}>\n              Checkout\n            </ConfirmButton>\n          </DialogFooter>\n        )}\n      </OrderStyled>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}